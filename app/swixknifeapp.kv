#:import colors kivymd.color_definitions.colors

<SKBaseButton@SKButton>
    font_size: 32
    size_hint: (None, None)
    width: dp(66)
    height: dp(66)
    size_hint_min_x: dp(66)
    size_hint_min_y: dp(66)
    size_hint_max_x: dp(66)
    size_hint_max_y: dp(66)
    theme_text_color: 'Custom'
    text_color: 'ffffff'

<SKClearButton@SKBaseButton>
    md_bg_color: colors['Red']['700']

<SKSwitchBaseButton@SKBaseButton>
    md_bg_color: colors['Purple']['700']

<SKBackspaceButton@SKBaseButton>
    md_bg_color: colors['Indigo']['700']

<SKNumberButton@SKBaseButton>
    md_bg_color: colors['LightGreen']['700']

<SKNumberLightButton@SKBaseButton>
    md_bg_color: colors['LightGreen']['500']

<SKOperatorButton@SKBaseButton>
    md_bg_color: colors['Blue']['700']

<SKSecondaryOperatorButton@SKBaseButton>
    md_bg_color: colors['Blue']['500']

<SKEqualButton@SKBaseButton>
    md_bg_color: colors['Orange']['700']

<SKMainDisplay@MDLabel>
    font_size: 32
    multiline: True
    halign: 'right'

<SKSecondaryDisplay@MDLabel>
    font_size: 16
    multiline: True
    halign: 'right'

<SKButtonLine@MDBoxLayout>
    spacing: 10


<SezimalGrid>:
    id: sezimal_grid
    display: sezimal_display
    secondary_display: sezimal_decimal_display
    separator: sezimal_separator_button
    p_notation: sezimal_p_button
    switch_base: sezimal_switch_base_button
    rows: 7
    padding: [10, 10, 10, 10]
    spacing: [10, 10]

    #
    # Sezimal and Decimal displays
    #
    MDBoxLayout:
        SKMainDisplay:
            id: sezimal_display
            text: ''

    MDBoxLayout:
        SKSecondaryDisplay:
            id: sezimal_decimal_display
            text: ''

    #
    # 1st row
    #
    SKButtonLine:
        SKClearButton:
            id: sezimal_clear_button
            text: '[b]C[/b]'
            on_press: root.button_clear()
        SKSwitchBaseButton:
            id: sezimal_switch_base_button
            text: '[b]14[/b]'
            on_press: root.button_switch_base()
        SKSecondaryOperatorButton:
            id: sezimal_open_parentheses_button
            text: '[b]([/b]'
            on_press: root.button_press('(')
        SKSecondaryOperatorButton:
            id: sezimal_close_parentheses_button
            text: '[b])[/b]'
            on_press: root.button_press(')')
        SKBackspaceButton:
            id: sezimal_backspace_button
            text: '[b]«[/b]'
            on_press: root.button_backspace()

    #
    # 2nd row
    #
    SKButtonLine:
        SKSecondaryOperatorButton:
            id: sezimal_sixniff_button
            text: '[b] [/b]'
        SKSecondaryOperatorButton:
            id: sezimal_four_button
            text: '[b] [/b]'
        SKSecondaryOperatorButton:
            id: sezimal_five_button
            text: '[b]xʸ[/b]'
            on_press: root.button_press('^')
        SKSecondaryOperatorButton:
            id: sezimal_perniff_button
            text: '[b]%[/b]'
            on_press: root.button_press('%')
        SKSecondaryOperatorButton:
            id: sezimal_persixniff_button
            text: '[b]‰[/b]'
            on_press: root.button_press('‰')

    #
    # 3rd row
    #
    SKButtonLine:
        SKNumberButton:
            id: sezimal_filler_button
            text: '[b]3[/b]'
            on_press: root.button_press('3')
        SKNumberButton:
            id: sezimal_two_button
            text: '[b]4[/b]'
            on_press: root.button_press('4')
        SKNumberButton:
            id: sezimal_three_button
            text: '[b]5[/b]'
            on_press: root.button_press('5')
        SKOperatorButton:
            id: sezimal_multiplication_button
            text: '[b]×[/b]'
            on_press: root.button_press('*')
        SKOperatorButton:
            id: sezimal_division_button
            text: '[b]÷[/b]'
            on_press: root.button_press('/')

    #
    # 4th row
    #
    SKButtonLine:
        SKNumberLightButton:
            id: sezimal_power_button
            text: '[b]0[/b]'
            on_press: root.button_press('0')
        SKNumberButton:
            id: sezimal_zero_button
            text: '[b]1[/b]'
            on_press: root.button_press('1')
        SKNumberButton:
            id: sezimal_one_button
            text: '[b]2[/b]'
            on_press: root.button_press('2')
        SKOperatorButton:
            id: sezimal_addition_button
            text: '[b]+[/b]'
            on_press: root.button_press('+')
        SKOperatorButton:
            id: sezimal_subtraction_button
            text: '[b]−[/b]'
            on_press: root.button_press('-')

    #
    # 5th row
    #
    SKButtonLine:
        SKNumberLightButton:
            id: sezimal_separator_button
            text: '[b],[/b]'
            on_press: root.button_press('.')
        SKNumberLightButton:
            id: sezimal_p_button
            text: '[b][u]p[/u][/b]'
            disabled: True
            on_press: root.button_press('p')
            on_long_press: root.button_press('_')
            on_double_press: root.button_press('_')
        SKNumberButton:
            id: sezimal_sezimal_zero_zero_button
            text: '[b]00[/b]'
            on_press: root.button_press('00')
        SKEqualButton:
            id: sezimal_equal_button
            text: '[b]=[/b]'
            on_press: root.button_eval()
        SKSecondaryOperatorButton:
            id: sezimal_plus_minus_button
            text: '[b]±[/b]'


<DecimalGrid>:
    id: decimal_grid
    display: decimal_display
    secondary_display: decimal_sezimal_display
    separator: decimal_separator_button
    p_notation: decimal_p_button
    switch_base: decimal_switch_base_button
    rows: 7
    padding: [10, 10, 10, 10]
    spacing: [10, 10]

    #
    # Decimal and Sezimal displays
    #
    MDBoxLayout:
        SKMainDisplay:
            id: decimal_display
            text: '0'

    MDBoxLayout:
        SKSecondaryDisplay:
            id: decimal_sezimal_display
            text: '0'

    #
    # 1st row
    #
    SKButtonLine:
        SKClearButton:
            id: decimal_clear_button
            text: '[b]C[/b]'
            on_press: root.button_clear()
        SKSwitchBaseButton:
            id: decimal_switch_base_button
            text: '[b]6[/b]'
            on_press: root.button_switch_base()
        SKSecondaryOperatorButton:
            id: decimal_open_parentheses_button
            text: '[b]([/b]'
            on_press: root.button_press('(')
        SKSecondaryOperatorButton:
            id: decimal_close_parentheses_button
            text: '[b])[/b]'
            on_press: root.button_press(')')
        SKBackspaceButton:
            id: decimal_backspace_button
            text: '[b]«[/b]'
            on_press: root.button_backspace()

    #
    # 2nd row
    #
    SKButtonLine:
        SKNumberButton:
            id: decimal_seven_button
            text: '[b]7[/b]'
            on_press: root.button_press('7')
        SKNumberButton:
            id: decimal_eight_button
            text: '[b]8[/b]'
            on_press: root.button_press('8')
        SKNumberButton:
            id: decimal_nine_button
            text: '[b]9[/b]'
            on_press: root.button_press('9')
        SKSecondaryOperatorButton:
            id: decimal_five_button
            text: '[b]xʸ[/b]'
            on_press: root.button_press('^')
        SKSecondaryOperatorButton:
            id: decimal_percent_button
            text: '[b]%[/b]'
            on_press: root.button_press('%')

    #
    # 3rd row
    #
    SKButtonLine:
        SKNumberButton:
            id: decimal_four_button
            text: '[b]4[/b]'
            on_press: root.button_press('4')
        SKNumberButton:
            id: decimal_five_button
            text: '[b]5[/b]'
            on_press: root.button_press('5')
        SKNumberButton:
            id: decimal_six_button
            text: '[b]6[/b]'
            on_press: root.button_press('6')
        SKOperatorButton:
            id: decimal_multiplication_button
            text: '[b]×[/b]'
            on_press: root.button_press('*')
        SKOperatorButton:
            id: decimal_division_button
            text: '[b]÷[/b]'
            on_press: root.button_press('/')

    #
    # 4th row
    #
    SKButtonLine:
        SKNumberButton:
            id: decimal_one_button
            text: '[b]1[/b]'
            on_press: root.button_press('1')
        SKNumberButton:
            id: decimal_two_button
            text: '[b]2[/b]'
            on_press: root.button_press('2')
        SKNumberButton:
            id: decimal_three_button
            text: '[b]3[/b]'
            on_press: root.button_press('3')
        SKOperatorButton:
            id: decimal_addition_button
            text: '[b]+[/b]'
            on_press: root.button_press('+')
        SKOperatorButton:
            id: decimal_subtraction_button
            text: '[b]−[/b]'
            on_press: root.button_press('-')

    #
    # 5th row
    #
    SKButtonLine:
        SKNumberLightButton:
            id: decimal_zero_button
            text: '[b]0[/b]'
            on_press: root.button_press('0')
        SKNumberLightButton:
            id: decimal_separator_button
            text: '[b],[/b]'
            on_press: root.button_press('.')
        SKNumberLightButton:
            id: decimal_p_button
            text: '[b][u]p[/u][/b]'
            disabled: True
            on_press: root.button_press('p')
            on_double_press: root.button_press('_')
            on_long_press: root.button_press('_')
        SKEqualButton:
            id: decimal_equal_button
            text: '[b]=[/b]'
            on_press: root.button_eval()
        SKSecondaryOperatorButton:
            id: decimal_plus_minus_button
            text: '[b]±[/b]'


<SwixknifeScreenManager>:
    id: swixknife_screen_manager

    sezimal_screen: sezimal_screen
    decimal_screen: decimal_screen

    SezimalScreen:
        id: sezimal_screen
        name: 'SezimalScreen'
        SezimalGrid

    DecimalScreen:
        id: decimal_screen
        name: 'DecimalScreen'
        DecimalGrid
